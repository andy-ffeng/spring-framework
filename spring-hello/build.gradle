//构建脚本中默认都是有个Project实例  （项目实例）
plugins {
    id 'java'
}

group 'org.springframework'
//工程版本
version '5.1.21.BUILD-SNAPSHOT'

//仓库 查找按照仓库书写顺序
//repositories {
//    mavenLocal()
//    mavenCentral()
//}

checkstyleMain {
    // 代码检查跳过一些我们认为不需要检查的package
    exclude 'com/happyffeng/**'
}

//项目依赖
dependencies {
    compile(project(":spring-beans"))
    compile(project(":spring-core"))
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

//闭包
def createDir = {
    path ->
        File dir = new File(path);
        if(!dir.exists()){
            dir.mkdirs();
        }
}

//自定义任务 -》在右侧 gradle  项目 -》task -》other中 查找 自定义方法（makeJavaDir）
task makeJavaDir(){
    def paths = ['src/main/java','src/main/resources','src/test/java','src/test/resources'];
    doFirst {
        paths.forEach(createDir);
    }
}